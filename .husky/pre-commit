#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "🐛 Entered Husky pre-commit hook"

# Only try to run lint-staged if npx can actually be invoked
if command -v npx >/dev/null 2>&1 && npx --version >/dev/null 2>&1; then
  echo "✅ Running lint-staged with working npx"
  npx lint-staged
else
  echo "⚠️  Skipping lint-staged — npx not available or broken in this environment"
  echo "ℹ️  You’re probably committing from Visual Studio’s built-in Git, which lacks full environment support"
fi
